<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CDI Listening Test</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding-top:70px; padding-bottom:70px; }
.audio-fixed { 
    position: fixed; top: 45px; left:0; width:100%; background:#f2f2f2; padding:10px 20px; box-shadow:0 2px 5px rgba(0,0,0,0.15); z-index:9999; 
}
.bottom-nav { position: fixed; bottom:0; left:0; width:100%; background:#222; text-align:center; padding:10px 0; z-index:9999; }
.bottom-nav button { color:#fff; background:#444; border:none; padding:8px 20px; margin:0 10px; font-weight:bold; cursor:pointer; }
.bottom-nav button:hover { background:#666; }
.page { display:none; padding:20px 40px; }
.page.active { display:block; }
h2 { margin-bottom:10px; }
input.answer { width:180px; padding:4px 6px; font-size:14px; }
.side-by-side { display:flex; gap:40px; align-items:flex-start; flex-wrap:wrap; }
.droppable { min-height:40px; padding:6px 10px; margin:8px 0; border:2px dashed #aaa; }
.draggable { padding:6px 10px; margin:5px 0; background:#f0f0f0; border:1px solid #999; cursor:grab; }
.draggable.dragging { opacity:0.5; }
.answers { display:flex; flex-direction:column; gap:5px; }
.questions { flex:1; }
span.highlight { background-color: yellow; padding: 1px 2px; border-radius: 2px; }
mark.user-highlight {
    background-color: yellow;
    padding: 0 2px;
}
.telegram-banner {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: #0088cc;
    color: white;
    text-align: center;
    font-weight: bold;
    padding: 8px 0;
    z-index: 10000;
}

.telegram-banner a {
    color: white;
    text-decoration: none;
}
</style>
</head>
<body>

<div class="telegram-banner">
<a href="https://t.me/xudoyberganov" target="_blank">
    Muhammad’s Journey | 8.5
</a>
</div>
<div class="audio-fixed">
<audio id="listeningAudio" controls>
<source src="TEST 1 - Olimjon's Listening.mp3" type="audio/mpeg">
Your browser does not support the audio element.
</audio>
</div>

<!-- PART 1 -->
<div id="part1" class="page active">
<h2>Part 1</h2>
<p><strong>Questions 1–10</strong></p>
<p>Complete the notes.</p>
<p>Write <strong>ONE WORD AND/OR A NUMBER</strong> for each answer.</p>

<h3>Revision Note</h3>

<ul>
<li>Company name: 1) <input type="text" class="answer" placeholder="Answer"> Hotel Chains</li>

<li>Letters of 2) <input type="text" class="answer" placeholder="Answer"> should be bigger</li>

<li>The 3) <input type="text" class="answer" placeholder="Answer"> should be removed</li>

<li>Change the description under the top photo to 4) <input type="text" class="answer" placeholder="Answer"></li>

<li>Use the picture with 5) <input type="text" class="answer" placeholder="Answer"> of the hotel</li>

<li>The 6) <input type="text" class="answer" placeholder="Answer"> should be in red print</li>

<li>Translate into 7) <input type="text" class="answer" placeholder="Answer"></li>

<li>Deadline: by the end of 8) <input type="text" class="answer" placeholder="Answer"></li>

<li>Address: No. 9 Green Drive, 9) <input type="text" class="answer" placeholder="Answer">, NY21300</li>

<li>Telephone number: 10) <input type="text" class="answer" placeholder="Answer"></li>
</ul>
</div>

<!-- PART 2 -->
<div id="part2" class="page">
<h2>Part 2</h2>
<p><strong>Questions 11–16</strong></p>
<p>Choose the correct letter.</p>

<p>11. The most famous view in this park is</p>
<label><input type="radio" name="q11"> A) the largest waterfall worldwide</label><br>
<label><input type="radio" name="q11"> B) the longest river in the world</label><br>
<label><input type="radio" name="q11"> C) the biggest sub-tropical rainforest in the world</label>

<p>12. According to the tour guide, what is best to do on top of the mountain?:</p>
<label><input type="radio" name="q12"> A) having a picnic</label><br>
<label><input type="radio" name="q12"> B) taking photos</label><br>
<label><input type="radio" name="q12"> C) strolling about</label>

<p>13. What did the tour guide recommend for more experienced walkers?</p>
<label><input type="radio" name="q13"> A) the mountain trail</label><br>
<label><input type="radio" name="q13"> B) the Bush Track</label><br>
<label><input type="radio" name="q13"> C) the Creek Circuit</label>

<p>14. What is mentioned about the transport in the park?</p>
<label><input type="radio" name="q14"> A) Bicycle can be hired</label><br>
<label><input type="radio" name="q14"> B) Trams are available for tourists</label><br>
<label><input type="radio" name="q14"> C) It is included in the bill</label>

<p>15. Which activity is provided for adults all year round?</p>
<label><input type="radio" name="q15"> A) abseiling</label><br>
<label><input type="radio" name="q15"> B) bungee jumping</label><br>
<label><input type="radio" name="q15"> C) paragliding</label>

<p>16. What should the visitors do before going to the restaurant?</p>
<label><input type="radio" name="q16"> A) make bookings</label><br>
<label><input type="radio" name="q16"> B) inquire about availability</label><br>
<label><input type="radio" name="q16"> C) collect the meal ticket at the reception</label>

<p><strong>Questions 17–20</strong></p>
<p>Label the plan below.</p>
<p>Write the correct letter (A–I) next to each question.</p>
<div class="side-by-side">
<img src="actual1p2map.jpg" alt="Plan" style="max-width:450px;">
<table border="1" style="border-collapse:collapse;">
<tr><th></th><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th></tr>
<tr><td>17. Campsite</td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td><td><input type="radio" name="q17"></td></tr>
<tr><td>18. Business Centre</td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td><td><input type="radio" name="q18"></td></tr>
<tr><td>19. Museum</td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td><td><input type="radio" name="q19"></td></tr>
<tr><td>20. Cafe</td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td><td><input type="radio" name="q20"></td></tr>
</table>
</div>
</div>

<!-- PART 3 -->
<div id="part3" class="page">
<h2>Part 3</h2>
<p><strong>Questions 21–24</strong></p>
<p>Choose the correct letter.</p>

<p>21. How old are the students of the nursing program?</p>
<label><input type="radio" name="q21"> A) They are teenagers</label><br>
<label><input type="radio" name="q21"> B) They are in their twenties</label><br>
<label><input type="radio" name="q21"> C) They belong to different age groups</label>

<p>22. What do the speakers say about the group project?</p>
<label><input type="radio" name="q22"> A) It helps improve relationship among different classmates</label><br>
<label><input type="radio" name="q22"> B) It helps develop problem-solving skills</label><br>
<label><input type="radio" name="q22"> C) It provides supportive learning environment</label>

<p>23. Which part of the program surprised Paul?</p>
<label><input type="radio" name="q23"> A) There's a number of essays to write</label><br>
<label><input type="radio" name="q23"> B) There's a lot of practical work</label><br>
<label><input type="radio" name="q23"> C) There's internship provided</label>

<p>24. What do they feel about learning law?</p>
<label><input type="radio" name="q24"> A) It is essential training</label><br>
<label><input type="radio" name="q24"> B) It is too theoretical</label><br>
<label><input type="radio" name="q24"> C) It takes up too much time</label>

<hr>
<p><strong>Questions 25–30</strong></p>
<p>What are the suggestions offered by the speakers?</p>
<p>Choose SIX answers from the box and write the correct letter, A-H, next to each question.</p>
<div class="side-by-side">
<div class="questions">
<ul>
<li class="droppable">25. Essays</li>
<li class="droppable">26. Lectures</li>
<li class="droppable">27. Research</li>
<li class="droppable">28. Online Forum</li>
<li class="droppable">29. Placement tests</li>
<li class="droppable">30. Freshmen</li>
</ul>
</div>
<div class="answers">
<div class="draggable" draggable="true" data-letter="A">A) get feedback from teaching staff</div>
<div class="draggable" draggable="true" data-letter="B">B) do more reading</div>
<div class="draggable" draggable="true" data-letter="C">C) get help from school supporting staff</div>
<div class="draggable" draggable="true" data-letter="D">D) get help for nursing problems</div>
<div class="draggable" draggable="true" data-letter="E">E) manage time properly</div>
<div class="draggable" draggable="true" data-letter="F">F) be well prepared</div>
<div class="draggable" draggable="true" data-letter="G">G) review the notes regularly</div>
<div class="draggable" draggable="true" data-letter="H">H) don’t set unrealistic goals</div>
</div>
</div>
</div>

<!-- PART 4 -->
<div id="part4" class="page">
<h2>Part 4</h2>
<p><strong>Questions 31–40</strong></p>
<p>Complete the notes below.</p> 
<p>Write <strong>ONE WORD ONLY</strong> for each answer.</p>

<h3>Penguins in Africa</h3>

<h4>Appearance and lifestyle</h4>

<p>They are also called Jackass Penguins for the sound they make.</p>
<p>The 31) <input type="text" class="answer" placeholder="Answer"> of their body remains constant</p>
<p>They restrict their 32) <input type="text" class="answer" placeholder="Answer"> on land from dusk till dawn.</p>
<p>They cannot fly because they have heavy 33) <input type="text" class="answer" placeholder="Answer">.</p>
<p>They nest under the tree 34) <input type="text" class="answer" placeholder="Answer">.</p>
<p>They eat tree 35) <input type="text" class="answer" placeholder="Answer">.</p>


<h4>Predators</h4>
<ul>
<li>seals</li>
<li>36) <input type="text" class="answer" placeholder="Answer"></li>
<li>seagulls (eat the penguin 37) <input type="text" class="answer" placeholder="Answer">)</li>
</ul>

<h4>Threats</h4>
<ul>
<li>They lose 38) <input type="text" class="answer" placeholder="Answer"> in winter.</li>
<li>They are fighting for nesting, 39) <input type="text" class="answer" placeholder="Answer"> and food because of human activities.</li>
<li>In order to improve survivorship, it is helpful to increase the 40) <input type="text" class="answer" placeholder="Answer"> of their genes.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="bottom-nav">
<button onclick="showPage('part1')">Part 1</button>
<button onclick="showPage('part2')">Part 2</button>
<button onclick="showPage('part3')">Part 3</button>
<button onclick="showPage('part4')">Part 4</button>
</div>

<script>
function showPage(id){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

// Audio continuity
const audio=document.getElementById('listeningAudio');
const savedTime=localStorage.getItem('audioTime');
if(savedTime) audio.currentTime=savedTime;
audio.play();
setInterval(()=>localStorage.setItem('audioTime',audio.currentTime),1000);

// Drag-and-drop logic
const answersContainer = document.querySelector('.answers');
const draggables = document.querySelectorAll('.draggable');
const droppables = document.querySelectorAll('.droppable');

droppables.forEach(drop=>drop.dataset.originalText = drop.textContent);

draggables.forEach(drag=>{
    drag.addEventListener('dragstart', e=>{ drag.classList.add('dragging'); e.dataTransfer.setData('text/plain', drag.dataset.letter); });
    drag.addEventListener('dragend', ()=>drag.classList.remove('dragging'));
});

droppables.forEach(drop=>{
    drop.addEventListener('dragover', e=>e.preventDefault());
    drop.addEventListener('drop', e=>{
        e.preventDefault();
        const letter = e.dataTransfer.getData('text/plain');
        const dragged = Array.from(draggables).find(d=>d.dataset.letter===letter);
        if(!dragged) return;

        if(drop.dataset.letter){
            const prevLetter = drop.dataset.letter;
            const prevAnswer = Array.from(draggables).find(d=>d.dataset.letter===prevLetter);
            answersContainer.appendChild(prevAnswer);
        }

        if(answersContainer.contains(dragged)) answersContainer.removeChild(dragged);

        drop.textContent = drop.dataset.originalText + ' ' + dragged.textContent;
        drop.dataset.letter = letter;
    });
});

answersContainer.addEventListener('dragover', e=>e.preventDefault());
answersContainer.addEventListener('drop', e=>{
    e.preventDefault();
    const letter = e.dataTransfer.getData('text/plain');
    const dragged = Array.from(draggables).find(d=>d.dataset.letter===letter);
    if(!dragged) return;
    droppables.forEach(drop=>{
        if(drop.dataset.letter===letter){
            drop.textContent = drop.dataset.originalText;
            delete drop.dataset.letter;
        }
    });
    if(!answersContainer.contains(dragged)) answersContainer.appendChild(dragged);
});

document.addEventListener('mouseup', () => {
    const selection = window.getSelection();
    if (!selection || selection.isCollapsed) return;

    // Ignore inputs
    if (selection.anchorNode && selection.anchorNode.closest?.('input, textarea')) return;

    const range = selection.getRangeAt(0);

    // Prevent highlighting empty or whitespace-only selections
    if (!range.toString().trim()) {
        selection.removeAllRanges();
        return;
    }

    const mark = document.createElement('mark');
    mark.className = 'user-highlight';

    try {
        range.surroundContents(mark);
        selection.removeAllRanges();
    } catch (e) {
        // Fallback for complex selections
        const contents = range.extractContents();
        mark.appendChild(contents);
        range.insertNode(mark);
        selection.removeAllRanges();
    }
});

</script>

</body>
</html>
